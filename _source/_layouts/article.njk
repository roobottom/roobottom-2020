---
layout: _wrapper.njk
---
{% set count = 0 %}
{% set prevPage = null %}
{% set nextPage = null %}
{%- for article in collections.articles %}
  {% if article.url == page.url %}
    {% set prevPage = collections['articles'][count + 1] %}
    {% set nextPage = collections['articles'][count - 1] %}
  {% endif %}
  {% set count = count + 1 %}
{% endfor -%}

<main class="h-entry">
  <header>
    <p><a href="/articles"><span class="visually-hidden">Go back to <span>Articles</a></p>
    <h1>{{ title }}</h1>
  </header>
  <footer>
    <p><span class="visually-hidden">Published on</span> <a href="//roobottom.com" class="u-url" rel="bookmark"><time class="dt-published" datetime="{{ date }}">{{ date | date }}</time></a></p>
  </footer>
  <article>
    {{ content | safe }}
  </article>
  <nav class="prevNext" aria-label="Pagination" role="navigation">
    <ul class="prevNext__list">
      {% if prevPage %}
      <li class="prevNext__item prevNext__item--prev">
        <span class="prevNext__itemLabel">Previously:</span>
        <a href="{{ prevPage.url }}" rel="prev" class="prevNext__link">{{ prevPage.data.title }}</a>
      </li>
      {% endif %}
      {% if nextPage %}
      <li class="prevNext__item prevNext__item--next">
        <span class="prevNext__itemLabel">Next up:</span>
        <a href="{{ nextPage.url }}" rel="next" class="prevNext__link">{{ nextPage.data.title }}</a>
      </li>
      {% endif %}
    </ul> 
  </nav>
</main>